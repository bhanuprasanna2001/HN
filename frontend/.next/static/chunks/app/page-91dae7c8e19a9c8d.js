(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{960:(e,t,r)=>{"use strict";async function a(e,t){let r=await fetch("".concat("/api").concat(e),{headers:{"Content-Type":"application/json",...null==t?void 0:t.headers},...t});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||"Request failed: ".concat(r.status));return r.json()}function n(){return a("/stats")}function l(e){return a("/copilot/ask",{method:"POST",body:JSON.stringify({question:e})})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=new URLSearchParams({page:String(e),search:t});return a("/knowledge/articles?".concat(r))}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80;return a("/knowledge/graph?limit=".concat(e))}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new URLSearchParams({status:e,page:String(t)});return a("/learning/events?".concat(r))}function c(e){return a("/learning/generate-draft",{method:"POST",body:JSON.stringify({ticket_number:e})})}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a("/learning/review",{method:"POST",body:JSON.stringify({event_id:e,action:t,reviewer_notes:r})})}function u(e){return a("/qa/score",{method:"POST",body:JSON.stringify({ticket_number:e})})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=new URLSearchParams({page:String(e),search:t,status:r});return a("/tickets?".concat(n))}r.d(t,{DM:()=>i,Fq:()=>s,H2:()=>u,Ls:()=>d,PF:()=>c,WS:()=>h,YK:()=>n,mF:()=>l,wV:()=>o})},1362:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1578:(e,t,r)=>{"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}(e))&&(a&&(a+=" "),a+=t);return a}(t)}function n(e){return new Intl.NumberFormat().format(e)}function l(e,t){return e.length<=t?e:e.slice(0,t-1)+"…"}function s(e){var t;return null!=(t=({kb_article:"#3B82F6",script:"#8B5CF6",ticket:"#10B981",conversation:"#F59E0B"})[e])?t:"#737373"}function i(e){let t=e.toLowerCase();return"approved"===t?"bg-emerald-50 text-emerald-700 border-emerald-200":"rejected"===t?"bg-red-50 text-red-700 border-red-200":"pending"===t?"bg-amber-50 text-amber-700 border-amber-200":"closed"===t?"bg-neutral-100 text-neutral-600 border-neutral-200":"bg-neutral-50 text-neutral-600 border-neutral-200"}r.d(t,{cn:()=>a,ZV:()=>n,_k:()=>s,ST:()=>i,xv:()=>l})},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:r,strokeWidth:o?24*Number(i)/Number(n):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:o,...c}=r;return(0,a.createElement)(i,{ref:s,iconNode:t,className:l("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=n(e),r}},3068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),n=r(2115),l=r(7937);let s=(0,r(1847).A)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);var i=r(9715),o=r(7586),c=r(7666),d=r(1362),u=r(8874),h=r(6983),m=r(960),x=r(1578);function g(e){let{label:t,value:r,icon:n,accent:l}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-4 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface)] p-5",children:[(0,a.jsx)("div",{className:(0,x.cn)("flex h-10 w-10 shrink-0 items-center justify-center rounded-md",null!=l?l:"bg-neutral-100 text-[var(--color-text)]"),children:n}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-semibold text-[var(--color-text)]",children:"number"==typeof r?(0,x.ZV)(r):r}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-[var(--color-text-muted)]",children:t})]})]})}function p(){let[e,t]=(0,n.useState)(null),[r,x]=(0,n.useState)("");return((0,n.useEffect)(()=>{(0,m.YK)().then(t).catch(e=>x(e.message))},[]),r)?(0,a.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-6 text-sm text-red-700",children:["Failed to load dashboard: ",r]}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-[var(--color-text)]",children:"Dashboard"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-[var(--color-text-muted)]",children:"SupportMind AI — self-learning intelligence layer overview"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(g,{label:"Knowledge Articles",value:e.total_kb_articles,icon:(0,a.jsx)(l.A,{size:18,strokeWidth:1.6}),accent:"bg-blue-50 text-blue-600"}),(0,a.jsx)(g,{label:"Tier 3 Scripts",value:e.total_scripts,icon:(0,a.jsx)(s,{size:18,strokeWidth:1.6}),accent:"bg-purple-50 text-purple-600"}),(0,a.jsx)(g,{label:"Tickets",value:e.total_tickets,icon:(0,a.jsx)(i.A,{size:18,strokeWidth:1.6}),accent:"bg-emerald-50 text-emerald-600"}),(0,a.jsx)(g,{label:"Conversations",value:e.total_conversations,icon:(0,a.jsx)(o.A,{size:18,strokeWidth:1.6}),accent:"bg-amber-50 text-amber-600"})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-4 gap-4",children:[(0,a.jsx)(g,{label:"Gaps Detected",value:e.total_gaps_detected,icon:(0,a.jsx)(c.A,{size:18,strokeWidth:1.6}),accent:"bg-orange-50 text-orange-600"}),(0,a.jsx)(g,{label:"Approved",value:e.gaps_approved,icon:(0,a.jsx)(d.A,{size:18,strokeWidth:1.6}),accent:"bg-emerald-50 text-emerald-600"}),(0,a.jsx)(g,{label:"Rejected",value:e.gaps_rejected,icon:(0,a.jsx)(u.A,{size:18,strokeWidth:1.6}),accent:"bg-red-50 text-red-600"}),(0,a.jsx)(g,{label:"Pending Review",value:e.gaps_pending,icon:(0,a.jsx)(h.A,{size:18,strokeWidth:1.6}),accent:"bg-amber-50 text-amber-600"})]}),(0,a.jsxs)("div",{className:"mt-8 rounded-lg border border-[var(--color-border)] bg-[var(--color-surface)] p-6",children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-[var(--color-text)]",children:"Self-Learning Loop"}),(0,a.jsx)("p",{className:"mt-2 text-xs leading-relaxed text-[var(--color-text-muted)]",children:"SupportMind continuously monitors resolved Tier 3 tickets. When a resolution has no matching knowledge article, a gap is detected and a KB draft is auto-generated with full provenance. Human reviewers approve or reject each draft — approved articles are immediately indexed for future retrieval, closing the learning loop."}),(0,a.jsx)("div",{className:"mt-5 flex items-center gap-3 text-xs text-[var(--color-text-muted)]",children:["Gap Detected","KB Draft Generated","Human Review","Published & Indexed"].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-[var(--color-accent)] text-[10px] font-semibold text-white",children:t+1}),(0,a.jsx)("span",{children:e}),t<3&&(0,a.jsx)("span",{className:"mx-1 text-[var(--color-border)]",children:"→"})]},e))})]})]}):(0,a.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,a.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-[var(--color-accent)] border-t-transparent"})})}},6530:(e,t,r)=>{Promise.resolve().then(r.bind(r,3068))},6983:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7586:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},7666:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},7937:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},8874:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9715:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=6530)),_N_E=e.O()}]);